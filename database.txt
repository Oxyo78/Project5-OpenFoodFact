CREATE SCHEMA IF NOT EXISTS `DBOpenFoodFacts` DEFAULT CHARACTER SET utf8 ;
USE `DBOpenFoodFacts` ;
CREATE TABLE IF NOT EXISTS `DBOpenFoodFacts`.`Categories` ( `cat_id` INT UNSIGNED NOT NULL AUTO_INCREMENT, `cat_name` VARCHAR(75) NOT NULL, `cat_url` VARCHAR(150) NOT NULL, PRIMARY KEY (`cat_id`)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `DBOpenFoodFacts`.`User` ( `User_id` INT UNSIGNED NOT NULL AUTO_INCREMENT, `User_name` VARCHAR(45) NOT NULL, PRIMARY KEY (`User_id`), UNIQUE INDEX `User_name_UNIQUE` (`User_name` ASC)) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `DBOpenFoodFacts`.`Saved` ( `sav_id` INT UNSIGNED NOT NULL AUTO_INCREMENT, `sav_user_id` INT UNSIGNED NOT NULL, `sav_name` VARCHAR(75) NOT NULL, `sav_shop` VARCHAR(75) NULL, `sav_url` VARCHAR(150) NOT NULL, `sav_cat_id` INT UNSIGNED NOT NULL, `sav_nutriscore` INT NOT NULL, INDEX `fk_sav_user_id_idx` (`sav_user_id` ASC), PRIMARY KEY (`sav_id`), INDEX `fk_Saved_Categories1_idx` (`sav_cat_id` ASC), CONSTRAINT `fk_sav_user_id` FOREIGN KEY (`sav_user_id`) REFERENCES `DBOpenFoodFacts`.`User` (`User_id`) ON DELETE NO ACTION ON UPDATE NO ACTION, CONSTRAINT `fk_Saved_Categories1` FOREIGN KEY (`sav_cat_id`) REFERENCES `DBOpenFoodFacts`.`Categories` (`cat_id`) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB;
CREATE TABLE IF NOT EXISTS `DBOpenFoodFacts`.`Product` ( `pro_id` INT NOT NULL AUTO_INCREMENT, `pro_name` VARCHAR(75) NOT NULL, `pro_shop` VARCHAR(75) NULL, `pro_url` VARCHAR(150) NOT NULL, `pro_nutriscore` INT NOT NULL, `pro_cat_id` INT UNSIGNED NOT NULL, PRIMARY KEY (`pro_id`, `pro_cat_id`), INDEX `fk_Product_Categories1_idx` (`pro_cat_id` ASC), UNIQUE INDEX `pro_name_UNIQUE` (`pro_name` ASC), CONSTRAINT `fk_Product_Categories1` FOREIGN KEY (`pro_cat_id`) REFERENCES `DBOpenFoodFacts`.`Categories` (`cat_id`) ON DELETE NO ACTION ON UPDATE NO ACTION) ENGINE = InnoDB;